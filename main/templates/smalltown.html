{% load static %}

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <title>SmallTown</title>
        <link rel="stylesheet" type="text/css" media="screen" href="{%  static  "/css/main.css"  %}">
        <link rel="icon" type="image/png" href="{%  static  "/images/whiteIcon.jpg"  %}">
        
    </head>
    <body>
    
        <form action="add_grocery" method="post">
            {% csrf_token %}
            <div class="container">
                <input id='grocery' name="grocery" type="text" placeholder="Input item" value="">
            </div>
            
            <button class="submit" id="submitButton">
                <img id='submitImage' src="{%  static  "/images/add.svg"  %}" alt="" style="display: none;">
            </button>
        </form>

        <form action="remove_grocery" method="post">
            {% csrf_token %}
   
            <div>
                <p> Groceries: {{Shoppinglist.grocery}}</p>
                {% for Shoppinglist in Shoppinglist %}
                    <p>{{ Shoppinglist.grocery }}</p>
                    <button class="remove" id="removeButton">
                        <img id='submitImage' src="{%  static  "/images/add.svg"  %}" alt="" >
                    </button>
                {% endfor %}
            </div> 
        </form>

        

        <div class="background">
            <img src="{%  static  "/images/lilleby_wallpaper.jpg"  %}" alt="">
        </div>

    </body>

    <script>
        const submitImage = document.getElementById('submitImage');
        const input = document.getElementById('grocery');
        const submitButton = document.getElementById('submitButton');
        const pizza = document.getElementById('pizza');
        const removeItem = document.getElementById('removeItem');

        input.addEventListener('input', () => {
            
            if (input.value === '') {
                submitImage.style = 'display: none';
            } else {
                submitImage.style = 'display: inline-block';
            }
        });
        
        submitButton.addEventListener('mouseover', () => {
            submitImage.src = "{%  static  "/images/add2.svg"  %}";
        });
        submitButton.addEventListener('mouseleave', () => {
            submitImage.src = "{%  static  "/images/add.svg"  %}";
        });

        removeItem.addEventListener('mouseover', () => {
            removeItem.src = "{%  static  "/images/remove-item-hover.svg"  %}";
        });
        removeItem.addEventListener('mouseleave', () => {
            removeItem.src = "{%  static  "/images/remove-item.svg"  %}";
        });

        input.addEventListener('input', () => {

            if (input.value === 'pizza') {
                pizza.style = 'display: inline-block';
            } else if (input.value === 'Pizza') {
                pizza.style = 'display: inline-block';
            } else {
                pizza.style = 'display: none';
            }
        })
    </script>
</html>